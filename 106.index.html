<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Event in DOM Manipulation in JavaScript</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <style media="screen">
      p{
        height : 100px;
        background: palegreen;
        padding : 10px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1 id="title" class="text-center my-3">Event in DOM Manipulation on DOM Element</h1>
      <ul class="list-group my-5" id="list">
        <li class="list-group-item" name="list-item-one">One</li>
        <li class="list-group-item" name="list-item">Two</li>
        <li class="list-group-item" name="list-item">Three</li>
      </ul>

      <button id="btn" class="btn btn-success" type="button" name="button">Add Me</button>
      <button id="remove" class="btn btn-success" type="button" name="button">Remove Me</button>
      <div class="box my-5" id="box">
        <p>(<span id="x-value">0</span>, <span id="y-value">0</span>)</p>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js" integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj" crossorigin="anonymous"></script>
    <script type="text/javascript">

      let styleObj = {
        background: 'purple',
        fontSize : '20px',
        color: '#20c997'
      }

      let list = document.getElementById('list');

      [...list.children].forEach(li => Object.assign(li.style, styleObj))
      // Object.assign(list.style, styleObj);

      let btn = document.getElementById('btn');
      let remove = document.getElementById('remove');


      // btn.onclick = function(e){
      //     console.log(e);
      // }

      // btn.addEventListener('click', click)
      // function click(e){
      //   alert('I have Clicked');
      // }

      let arr = ['one','two','three','four','five','six','seven','eight','nine','ten'];
      let i = 3;
      btn.addEventListener('click',function (e){

        let node =  list.lastElementChild.cloneNode();

        if(i == arr.length){
          alert('limit over');
        }else{
          list.appendChild(node);
          node.innerText = arr[i].charAt(0).toUpperCase() + arr[i].substr(1);
          i = i + 1;
        }

      });

      remove.addEventListener('click',function(e){

        if(i==1){
          i = 1;
        }else{
          list.lastElementChild.remove();
          i = i-1;
        }

      });

      // [...list.children].forEach(li => {
      //   li.addEventListener('click',function(e){
      //     li.remove();
      //   })
      // });

      list.addEventListener('click',function(e){
        if(this.contains(e.target)){
          e.target.remove();
        }
      });




      let box = document.getElementById('box');
      box.addEventListener('mousemove',function(e){
        // document.getElementById('x-value').innerHTML = e.clientX;
        // document.getElementById('y-value').innerHTML = e.clientY;
        document.getElementById('x-value').innerHTML = e.offsetX;
        document.getElementById('y-value').innerHTML = e.offsetY;
        if(e.offsetY === 50 && e.offsetX === 50){
          alert('50,50');
        }
      });




    </script>
  </body>
</html>
